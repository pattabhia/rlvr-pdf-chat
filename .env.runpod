# ========================================
# RUNPOD DEPLOYMENT PROFILE (GPU-optimized)
# ========================================
# Use this for RunPod deployment with GPU
# High quality 768-dim embeddings

# Embeddings - High-quality 768-dim model for GPU
EMBEDDING_BACKEND=sentence
EMBEDDING_MODEL=sentence-transformers/multi-qa-mpnet-base-dot-v1
EMBEDDING_DIMENSION=768

# Qdrant Configuration
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_COLLECTION_NAME=documents

# LLM Configuration - Ollama with GPU
LLM_BACKEND=ollama
OLLAMA_URL=http://ollama:11434
OLLAMA_MODEL=llama3.2:3b
OLLAMA_GPU_LAYERS=999  # Use all GPU layers

# RAG Parameters
TOP_K_RESULTS=10  # More results with GPU
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# RAGAS Configuration
RAGAS_LLM_BACKEND=ollama  # Use Ollama for RAGAS on GPU

# DPO Dataset Generation Thresholds
# RELAXED thresholds for testing - increase gradually for production
MIN_SCORE_DIFF=0.01          # Minimum score difference between best/worst answers (default: 0.3)
MIN_CHOSEN_SCORE=0.5         # Minimum score for chosen answer (default: 0.7)
ENABLE_QUALITY_FILTER=false  # Enable verbatim/quality checks (default: true)

# RabbitMQ
RABBITMQ_URL=amqp://rlvr:rlvr_password@rabbitmq:5672/

# PostgreSQL
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=rlvr_db
POSTGRES_USER=rlvr_user
POSTGRES_PASSWORD=rlvr_password

# Services (Docker network)
API_GATEWAY_URL=http://api-gateway:8000
QA_ORCHESTRATOR_URL=http://qa-orchestrator:8001
DOCUMENT_INGESTION_URL=http://document-ingestion:8002
TRAINING_DATA_SERVICE_URL=http://training-data:8005
GROUND_TRUTH_SERVICE_URL=http://ground-truth:8007

